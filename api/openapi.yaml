openapi: 3.0.3
info:
  title: Clinext Medical Beauty Clinic API
  description: |
    REST API for Clinext CRM & Patient Engagement System.
    
    ## Authentication
    All endpoints require Bearer token authentication except `/auth/login`.
    
    ## User Types
    - **patient**: Regular customers with limited access
    - **staff**: Clinic employees (nurse, therapist, consultant)
    - **admin**: Full system access
  version: 1.0.0
  contact:
    name: Clinext Support

servers:
  - url: /api/v1
    description: Development server

tags:
  - name: Auth
    description: Authentication endpoints
  - name: Patients
    description: Patient management
  - name: Visits
    description: Visit/appointment management
  - name: Treatments
    description: Treatment catalog
  - name: Sessions
    description: Treatment sessions (clinical records)
  - name: Follow-ups
    description: Follow-up and reminders
  - name: Orders
    description: Order and billing
  - name: Inventory
    description: Inventory and drug management
  - name: Dashboard
    description: Analytics and reports

paths:
  # =====================================================
  # AUTHENTICATION
  # =====================================================
  /auth/login:
    post:
      tags: [Auth]
      summary: User login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [username, password]
              properties:
                username:
                  type: string
                  example: patient1
                password:
                  type: string
                  example: "123456"
                user_type:
                  type: string
                  enum: [patient, staff, admin]
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                  user:
                    $ref: '#/components/schemas/User'
        '401':
          description: Invalid credentials

  /auth/logout:
    post:
      tags: [Auth]
      summary: User logout
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Logout successful

  /auth/me:
    get:
      tags: [Auth]
      summary: Get current user info
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Current user information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'

  # =====================================================
  # PATIENTS
  # =====================================================
  /patients:
    get:
      tags: [Patients]
      summary: List all patients
      security:
        - bearerAuth: []
      parameters:
        - name: search
          in: query
          schema:
            type: string
          description: Search by name or phone
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: Patient list
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Patient'
                  pagination:
                    $ref: '#/components/schemas/Pagination'

    post:
      tags: [Patients]
      summary: Create new patient
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatientCreate'
      responses:
        '201':
          description: Patient created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Patient'

  /patients/{patient_id}:
    get:
      tags: [Patients]
      summary: Get patient by ID
      security:
        - bearerAuth: []
      parameters:
        - name: patient_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Patient details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Patient'
        '404':
          description: Patient not found

    put:
      tags: [Patients]
      summary: Update patient
      security:
        - bearerAuth: []
      parameters:
        - name: patient_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatientUpdate'
      responses:
        '200':
          description: Patient updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Patient'

  /patients/{patient_id}/history:
    get:
      tags: [Patients]
      summary: Get patient treatment history
      security:
        - bearerAuth: []
      parameters:
        - name: patient_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Treatment history
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TreatmentSession'

  # =====================================================
  # VISITS
  # =====================================================
  /visits:
    get:
      tags: [Visits]
      summary: List visits
      security:
        - bearerAuth: []
      parameters:
        - name: patient_id
          in: query
          schema:
            type: string
            format: uuid
        - name: date_from
          in: query
          schema:
            type: string
            format: date
        - name: date_to
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Visit list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Visit'

    post:
      tags: [Visits]
      summary: Create visit
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VisitCreate'
      responses:
        '201':
          description: Visit created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Visit'

  # =====================================================
  # TREATMENTS (CATALOG)
  # =====================================================
  /treatments:
    get:
      tags: [Treatments]
      summary: Get treatment catalog
      security:
        - bearerAuth: []
      parameters:
        - name: category
          in: query
          schema:
            type: string
            enum: [injection, device, laser, facial, body, bundle]
        - name: is_active
          in: query
          schema:
            type: boolean
            default: true
      responses:
        '200':
          description: Treatment list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Treatment'

    post:
      tags: [Treatments]
      summary: Create treatment
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TreatmentCreate'
      responses:
        '201':
          description: Treatment created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Treatment'

  /treatments/{treatment_id}:
    get:
      tags: [Treatments]
      summary: Get treatment by ID
      security:
        - bearerAuth: []
      parameters:
        - name: treatment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Treatment details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Treatment'

    put:
      tags: [Treatments]
      summary: Update treatment
      security:
        - bearerAuth: []
      parameters:
        - name: treatment_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TreatmentUpdate'
      responses:
        '200':
          description: Treatment updated

  # =====================================================
  # TREATMENT SESSIONS
  # =====================================================
  /treatment-sessions:
    get:
      tags: [Sessions]
      summary: List treatment sessions
      security:
        - bearerAuth: []
      parameters:
        - name: patient_id
          in: query
          schema:
            type: string
            format: uuid
        - name: visit_id
          in: query
          schema:
            type: string
            format: uuid
        - name: date_from
          in: query
          schema:
            type: string
            format: date
        - name: date_to
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: Session list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TreatmentSession'

    post:
      tags: [Sessions]
      summary: Create treatment session
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TreatmentSessionCreate'
      responses:
        '201':
          description: Session created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TreatmentSession'

  /treatment-sessions/{session_id}:
    get:
      tags: [Sessions]
      summary: Get session details
      security:
        - bearerAuth: []
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Session details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TreatmentSession'

  /treatment-drug-usage:
    post:
      tags: [Sessions]
      summary: Record drug usage
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DrugUsageCreate'
      responses:
        '201':
          description: Drug usage recorded

  # =====================================================
  # FOLLOW-UPS
  # =====================================================
  /followups:
    get:
      tags: [Follow-ups]
      summary: Get follow-ups
      security:
        - bearerAuth: []
      parameters:
        - name: days
          in: query
          schema:
            type: integer
            default: 30
          description: Get follow-ups for next N days
        - name: status
          in: query
          schema:
            type: string
            enum: [pending, completed, cancelled, overdue]
      responses:
        '200':
          description: Follow-up list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FollowUp'

    post:
      tags: [Follow-ups]
      summary: Create follow-up
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FollowUpCreate'
      responses:
        '201':
          description: Follow-up created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FollowUp'

  /followups/recommend:
    post:
      tags: [Follow-ups]
      summary: Create maintenance recommendation
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [session_id, next_recommend_date]
              properties:
                session_id:
                  type: string
                  format: uuid
                next_recommend_date:
                  type: string
                  format: date
                followup_type:
                  type: string
                  enum: [medical, maintenance, reminder]
                  default: maintenance
                notify_flag:
                  type: boolean
                  default: true
      responses:
        '201':
          description: Recommendation created

  # =====================================================
  # ORDERS
  # =====================================================
  /orders:
    get:
      tags: [Orders]
      summary: List orders
      security:
        - bearerAuth: []
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [new, in_progress, completed, cancelled]
        - name: date_from
          in: query
          schema:
            type: string
            format: date
        - name: date_to
          in: query
          schema:
            type: string
            format: date
        - name: patient_id
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Order list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Order'

    post:
      tags: [Orders]
      summary: Create order
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrderCreate'
      responses:
        '201':
          description: Order created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'

  /orders/{order_id}:
    get:
      tags: [Orders]
      summary: Get order details
      security:
        - bearerAuth: []
      parameters:
        - name: order_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Order details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Order'

    put:
      tags: [Orders]
      summary: Update order status
      security:
        - bearerAuth: []
      parameters:
        - name: order_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum: [new, in_progress, completed, cancelled]
                payment_status:
                  type: string
                  enum: [pending, partial, paid, refunded]
      responses:
        '200':
          description: Order updated

  # =====================================================
  # INVENTORY
  # =====================================================
  /drugs:
    get:
      tags: [Inventory]
      summary: List drugs/materials
      security:
        - bearerAuth: []
      parameters:
        - name: drug_type
          in: query
          schema:
            type: string
            enum: [Botox, HA, PRP, Anesthetic, Consumable, Other]
        - name: low_stock
          in: query
          schema:
            type: boolean
          description: Filter low stock items
      responses:
        '200':
          description: Drug list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Drug'

    post:
      tags: [Inventory]
      summary: Add new drug
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DrugCreate'
      responses:
        '201':
          description: Drug created

  /drugs/{drug_id}/transactions:
    get:
      tags: [Inventory]
      summary: Get drug transaction history
      security:
        - bearerAuth: []
      parameters:
        - name: drug_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Transaction history
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/InventoryTransaction'

  /inventory/expiring:
    get:
      tags: [Inventory]
      summary: Get expiring items
      security:
        - bearerAuth: []
      parameters:
        - name: days
          in: query
          schema:
            type: integer
            default: 90
          description: Items expiring within N days
      responses:
        '200':
          description: Expiring items list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Drug'

  # =====================================================
  # DASHBOARD & REPORTS
  # =====================================================
  /dashboard/summary:
    get:
      tags: [Dashboard]
      summary: Get dashboard summary
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Dashboard summary
          content:
            application/json:
              schema:
                type: object
                properties:
                  today_visits:
                    type: integer
                  today_revenue:
                    type: number
                  pending_followups:
                    type: integer
                  low_stock_items:
                    type: integer

  /dashboard/treatments:
    get:
      tags: [Dashboard]
      summary: Get treatment performance
      security:
        - bearerAuth: []
      parameters:
        - name: period
          in: query
          schema:
            type: string
            enum: [week, month, quarter, year]
            default: month
      responses:
        '200':
          description: Treatment performance
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    treatment_name:
                      type: string
                    monthly_sessions:
                      type: integer
                    repeat_rate:
                      type: number
                    avg_revenue:
                      type: number

  /dashboard/followup-risk:
    get:
      tags: [Dashboard]
      summary: Get follow-up risk patients
      security:
        - bearerAuth: []
      responses:
        '200':
          description: At-risk patients
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    patient_id:
                      type: string
                      format: uuid
                    patient_name:
                      type: string
                    last_treatment:
                      type: string
                    days_since_last:
                      type: integer
                    status:
                      type: string
                      enum: [due, overdue]

  /dashboard/revenue:
    get:
      tags: [Dashboard]
      summary: Get revenue statistics
      security:
        - bearerAuth: []
      parameters:
        - name: date_from
          in: query
          schema:
            type: string
            format: date
        - name: date_to
          in: query
          schema:
            type: string
            format: date
        - name: group_by
          in: query
          schema:
            type: string
            enum: [day, week, month]
            default: day
      responses:
        '200':
          description: Revenue statistics
          content:
            application/json:
              schema:
                type: object
                properties:
                  total_revenue:
                    type: number
                  total_orders:
                    type: integer
                  avg_order_value:
                    type: number
                  by_category:
                    type: array
                    items:
                      type: object
                      properties:
                        category:
                          type: string
                        revenue:
                          type: number
                        count:
                          type: integer

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    # =====================================================
    # COMMON
    # =====================================================
    Pagination:
      type: object
      properties:
        page:
          type: integer
        limit:
          type: integer
        total:
          type: integer
        total_pages:
          type: integer

    # =====================================================
    # USER & AUTH
    # =====================================================
    User:
      type: object
      properties:
        user_id:
          type: string
          format: uuid
        username:
          type: string
        email:
          type: string
        user_type:
          type: string
          enum: [patient, staff, admin]
        full_name:
          type: string
        role:
          type: string

    # =====================================================
    # PATIENT
    # =====================================================
    Patient:
      type: object
      properties:
        patient_id:
          type: string
          format: uuid
        full_name:
          type: string
        gender:
          type: string
          enum: [male, female, other]
        date_of_birth:
          type: string
          format: date
        phone:
          type: string
        email:
          type: string
        skin_type:
          type: string
          enum: [I, II, III, IV, V, VI]
        medical_history:
          type: string
        allergy_notes:
          type: string
        created_at:
          type: string
          format: date-time

    PatientCreate:
      type: object
      required: [full_name]
      properties:
        full_name:
          type: string
          example: Amy Chen
        gender:
          type: string
          enum: [male, female, other]
        date_of_birth:
          type: string
          format: date
          example: "1992-06-01"
        phone:
          type: string
        email:
          type: string
        skin_type:
          type: string
          enum: [I, II, III, IV, V, VI]
          example: III
        medical_history:
          type: string
          example: No autoimmune disease
        allergy_notes:
          type: string

    PatientUpdate:
      type: object
      properties:
        full_name:
          type: string
        gender:
          type: string
        phone:
          type: string
        email:
          type: string
        skin_type:
          type: string
        medical_history:
          type: string
        allergy_notes:
          type: string

    # =====================================================
    # VISIT
    # =====================================================
    Visit:
      type: object
      properties:
        visit_id:
          type: string
          format: uuid
        patient_id:
          type: string
          format: uuid
        visit_date:
          type: string
          format: date
        visit_type:
          type: string
          enum: [consultation, treatment, follow_up]
        notes:
          type: string

    VisitCreate:
      type: object
      required: [patient_id, visit_date]
      properties:
        patient_id:
          type: string
          format: uuid
        visit_date:
          type: string
          format: date
          example: "2025-12-20"
        visit_type:
          type: string
          enum: [consultation, treatment, follow_up]
          default: treatment
        notes:
          type: string

    # =====================================================
    # TREATMENT
    # =====================================================
    Treatment:
      type: object
      properties:
        treatment_id:
          type: string
          format: uuid
        treatment_code:
          type: string
          example: BOT_MASSETER
        treatment_name:
          type: string
          example: 美國肉毒瘦小臉
        category:
          type: string
          enum: [injection, device, laser, facial, body, bundle]
        default_unit:
          type: string
          example: U
        base_price:
          type: number
          example: 4999
        description:
          type: string
        is_active:
          type: boolean

    TreatmentCreate:
      type: object
      required: [treatment_code, treatment_name, category]
      properties:
        treatment_code:
          type: string
        treatment_name:
          type: string
        category:
          type: string
          enum: [injection, device, laser, facial, body, bundle]
        default_unit:
          type: string
        base_price:
          type: number
        description:
          type: string

    TreatmentUpdate:
      type: object
      properties:
        treatment_name:
          type: string
        base_price:
          type: number
        description:
          type: string
        is_active:
          type: boolean

    # =====================================================
    # TREATMENT SESSION
    # =====================================================
    TreatmentSession:
      type: object
      properties:
        session_id:
          type: string
          format: uuid
        visit_id:
          type: string
          format: uuid
        patient_id:
          type: string
          format: uuid
        treatment_id:
          type: string
          format: uuid
        treatment_name:
          type: string
        doctor_id:
          type: string
          format: uuid
        doctor_name:
          type: string
        device_id:
          type: string
          format: uuid
        session_no:
          type: integer
        dosage_value:
          type: number
          example: 40
        dosage_unit:
          type: string
          example: U
        treatment_area:
          type: object
          example:
            left_masseter: 20
            right_masseter: 20
        performed_at:
          type: string
          format: date-time
        immediate_reaction:
          type: string
        clinical_notes:
          type: string
        price:
          type: number

    TreatmentSessionCreate:
      type: object
      required: [visit_id, patient_id, treatment_id]
      properties:
        visit_id:
          type: string
          format: uuid
        patient_id:
          type: string
          format: uuid
        treatment_id:
          type: string
          format: uuid
        doctor_id:
          type: string
          format: uuid
        device_id:
          type: string
          format: uuid
        dosage_value:
          type: number
        dosage_unit:
          type: string
        treatment_area:
          type: object
        clinical_notes:
          type: string

    DrugUsageCreate:
      type: object
      required: [session_id, drug_id, amount_used]
      properties:
        session_id:
          type: string
          format: uuid
        drug_id:
          type: string
          format: uuid
        amount_used:
          type: number
          example: 40
        unit:
          type: string
          example: U

    # =====================================================
    # FOLLOW-UP
    # =====================================================
    FollowUp:
      type: object
      properties:
        followup_id:
          type: string
          format: uuid
        patient_id:
          type: string
          format: uuid
        patient_name:
          type: string
        session_id:
          type: string
          format: uuid
        treatment_name:
          type: string
        followup_type:
          type: string
          enum: [medical, maintenance, reminder, satisfaction]
        scheduled_date:
          type: string
          format: date
        actual_date:
          type: string
          format: date
        outcome_notes:
          type: string
        next_recommend_date:
          type: string
          format: date
        notify_flag:
          type: boolean
        status:
          type: string
          enum: [pending, completed, cancelled, overdue]

    FollowUpCreate:
      type: object
      required: [patient_id, scheduled_date]
      properties:
        patient_id:
          type: string
          format: uuid
        session_id:
          type: string
          format: uuid
        followup_type:
          type: string
          enum: [medical, maintenance, reminder, satisfaction]
          default: medical
        scheduled_date:
          type: string
          format: date
          example: "2026-01-05"
        notify_flag:
          type: boolean
          default: true

    # =====================================================
    # ORDER
    # =====================================================
    Order:
      type: object
      properties:
        order_id:
          type: string
          format: uuid
        order_no:
          type: string
          example: ORD-20251220-001
        patient_id:
          type: string
          format: uuid
        patient_name:
          type: string
        order_date:
          type: string
          format: date
        subtotal:
          type: number
        discount:
          type: number
        tax:
          type: number
        total:
          type: number
        payment_method:
          type: string
          enum: [cash, credit_card, debit_card, transfer, installment, voucher]
        payment_status:
          type: string
          enum: [pending, partial, paid, refunded]
        status:
          type: string
          enum: [new, in_progress, completed, cancelled]
        priority:
          type: string
          enum: [low, normal, high, urgent]
        items:
          type: array
          items:
            $ref: '#/components/schemas/OrderItem'

    OrderItem:
      type: object
      properties:
        item_id:
          type: string
          format: uuid
        treatment_id:
          type: string
          format: uuid
        item_name:
          type: string
        quantity:
          type: integer
        unit_price:
          type: number
        discount:
          type: number
        total:
          type: number

    OrderCreate:
      type: object
      required: [patient_id, items]
      properties:
        patient_id:
          type: string
          format: uuid
        visit_id:
          type: string
          format: uuid
        doctor_id:
          type: string
          format: uuid
        order_date:
          type: string
          format: date
        discount:
          type: number
          default: 0
        payment_method:
          type: string
          enum: [cash, credit_card, debit_card, transfer, installment, voucher]
        priority:
          type: string
          enum: [low, normal, high, urgent]
          default: normal
        notes:
          type: string
        items:
          type: array
          items:
            type: object
            required: [treatment_id, quantity]
            properties:
              treatment_id:
                type: string
                format: uuid
              quantity:
                type: integer
                default: 1
              unit_price:
                type: number
              discount:
                type: number

    # =====================================================
    # INVENTORY
    # =====================================================
    Drug:
      type: object
      properties:
        drug_id:
          type: string
          format: uuid
        drug_code:
          type: string
        drug_name:
          type: string
        drug_type:
          type: string
          enum: [Botox, HA, PRP, Anesthetic, Consumable, Other]
        unit:
          type: string
        supplier:
          type: string
        batch_no:
          type: string
        expiry_date:
          type: string
          format: date
        stock_quantity:
          type: number
        min_stock_level:
          type: number
        unit_cost:
          type: number

    DrugCreate:
      type: object
      required: [drug_name, drug_type]
      properties:
        drug_code:
          type: string
        drug_name:
          type: string
        drug_type:
          type: string
          enum: [Botox, HA, PRP, Anesthetic, Consumable, Other]
        unit:
          type: string
        supplier:
          type: string
        batch_no:
          type: string
        expiry_date:
          type: string
          format: date
        stock_quantity:
          type: number
        min_stock_level:
          type: number
        unit_cost:
          type: number

    InventoryTransaction:
      type: object
      properties:
        transaction_id:
          type: string
          format: uuid
        drug_id:
          type: string
          format: uuid
        drug_name:
          type: string
        transaction_type:
          type: string
          enum: [purchase, usage, adjustment, expired, return]
        quantity:
          type: number
        unit:
          type: string
        notes:
          type: string
        performed_by:
          type: string
        created_at:
          type: string
          format: date-time

security:
  - bearerAuth: []

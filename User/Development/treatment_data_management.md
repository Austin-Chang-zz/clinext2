Below is a **structured, PRD-ready answer** based on the **attached promotion image** (promotion.jpg) and aligned with how a **medical beauty (aesthetic clinic) app** should be designed for **clinic owners, doctors, nurses, and admins**.

---

## 1ï¸âƒ£ All Treatment Items Identified from the Image

### A. Injection / Injectable Treatments

1. çš®ç§’èœ‚å·¢é›·å°„
2. è–‡è²æ‹‰ 1cc
3. ç¾åœ‹è‚‰æ¯’ç˜¦å°è‡‰
4. ä»™å¥³ç»å°¿é…¸ + è‚‰æ¯’ 30u
5. çŒ›å¥æ¨‚ + å®¹è„‚é»æ»´
6. MCS è¡€æ¼¿ç½®æ›è¡“
7. éŸ“åœ‹ç»å°¿é…¸ 2 æ”¯
8. éŸ“åœ‹è‚‰æ¯’ 100U + å®¹é…·é‡

---

### B. Energy-Based / Device Treatments

9. ç¾éŸ³ 400 æ¢
10. ç¾éŸ³ Plus 300 æ¢
11. æµ·èŠ™éŸ³æ³¢ 1000 æ¢
12. é¼»åé›»æ³¢ 600 + æµ·èŠ™éŸ³æ³¢ 400
13. é³³å‡°é›»æ³¢ 900 + éŸ³æ³¢ 300
14. ç¾åœ‹éŸ³æ³¢ 200 æ¢

---

### C. Promotion / Bundle Programs

15. ç„¡ç‘•è‚Œæ–¹æ¡ˆï¼ˆ4 é¸ 1ï¼Œå–®ä¸€æ–¹æ¡ˆ 10000ï¼‰

* çš®ç§’èœ‚å·¢ / æ·¨è†šé›·å°„å››å ‚
* éŸ“åœ‹ç»å°¿é…¸ 2 æ”¯
* ç¾åœ‹éŸ³æ³¢ 200 æ¢
* éŸ“åœ‹è‚‰æ¯’ 100U + å®¹é…·é‡

---

## 2ï¸âƒ£ Selected 3 Treatments for Detailed Treatment Flow Design

I selected **high-frequency, clinically common, and dashboard-worthy items**:

1. **ç¾åœ‹è‚‰æ¯’ç˜¦å°è‡‰ (Botox for Masseter Reduction)**
2. **æµ·èŠ™éŸ³æ³¢ 1000 æ¢ (HIFU Lifting)**
3. **çš®ç§’èœ‚å·¢é›·å°„ (Pico Laser)**

---

## 3ï¸âƒ£ Detailed Treatment Flows (Doctor + Periodic Care)

---

# ğŸ©º Treatment 1: ç¾åœ‹è‚‰æ¯’ç˜¦å°è‡‰

### ğŸ¯ Indication

* å’¬è‚Œè‚¥åš
* åœ‹å­—è‡‰
* å¤œé–“ç£¨ç‰™

---

### A. Initial Doctor Inspection Flow

1. è‡‰å‹è©•ä¼°ï¼ˆéœæ…‹ / å‹•æ…‹ï¼‰
2. å’¬è‚Œåšåº¦è§¸è¨ºï¼ˆå·¦å³å°æ¯”ï¼‰
3. ç—…å²æª¢æŸ¥ï¼ˆæ‡·å­•ã€ç¥ç¶“è‚Œè‚‰ç–¾ç—…ï¼‰
4. æ‹æ” Before ç…§
5. å»ºç«‹æ²»ç™‚å»ºè­°ï¼ˆå»ºè­°åŠ‘é‡ï¼š30â€“50Uï¼‰

---

### B. Treatment Procedure

1. æ¶ˆæ¯’å®šä½ï¼ˆå·¦å³å’¬è‚Œï¼‰
2. æ³¨å°„è‚‰æ¯’ï¼ˆç¾åœ‹å“ç‰Œï¼‰
3. å†°æ•·é®å®š
4. ç•¶æ—¥è¡›æ•™ï¼ˆé¿å…æŒ‰æ‘©ã€å’€åš¼å£é¦™ç³–ï¼‰

---

### C. Follow-up & Maintenance

* **2 é€±**ï¼šæ•ˆæœè©•ä¼°
* **3â€“6 å€‹æœˆ**ï¼šè£œæ‰“æé†’
* **å¹´åº¦æœ€å¤š 2â€“3 æ¬¡**

---

### D. Drugs / Materials

* Botulinum Toxin Type A (ç¾åœ‹)
* ç„¡èŒæ³¨å°„é‡å…·

---

---

# âš¡ Treatment 2: æµ·èŠ™éŸ³æ³¢ 1000 æ¢

### ğŸ¯ Indication

* è‡‰éƒ¨é¬†å¼›
* æ³•ä»¤ç´‹ã€ä¸‹é¡ç·šæ¨¡ç³Š

---

### A. Initial Doctor Inspection

1. çš®è†šé¬†å¼›ç¨‹åº¦åˆ†ç´šï¼ˆGrade Iâ€“IIIï¼‰
2. è‡‰éƒ¨è„‚è‚ªèˆ‡ç­‹è†œå±¤è©•ä¼°
3. ä¸é©åˆéŸ³æ³¢æ¢ä»¶æ’é™¤
4. æ‹æ”æ¨™æº–ç…§
5. æ¢æ•¸èˆ‡æ¢é ­è¦åŠƒ

---

### B. Treatment Procedure

1. æ¸…æ½” + æ•·éº»
2. åŠƒåˆ†æ²»ç™‚å€åŸŸ
3. éŸ³æ³¢æ“Šç™¼ï¼ˆSMAS å±¤ï¼‰
4. é®å®šä¿®å¾©

---

### C. Follow-up & Maintenance

* **å³æ™‚ç·Šå¯¦**
* **2â€“3 å€‹æœˆæ•ˆæœæœ€æ˜é¡¯**
* **æ¯ 12â€“18 å€‹æœˆé‡åš**

---

### D. Devices

* HIFU éŸ³æ³¢å„€
* 3.0 / 4.5 mm æ¢é ­

---

---

# ğŸŒˆ Treatment 3: çš®ç§’èœ‚å·¢é›·å°„

### ğŸ¯ Indication

* è‰²ç´ æ–‘
* æ¯›å­”ç²—å¤§
* ç—˜ç–¤

---

### A. Initial Doctor Inspection

1. çš®è†šé¡å‹ï¼ˆFitzpatrickï¼‰
2. è‰²ç´ æ·±æ·ºè©•ä¼°
3. æ–‘é»ç¨®é¡ç¢ºèª
4. æ²»ç™‚æ¬¡æ•¸å»ºè­°ï¼ˆ3â€“5 æ¬¡ï¼‰
5. æ‹æ” Before ç…§

---

### B. Treatment Procedure

1. æ¸…æ½”å¸å¦
2. æ•·éº»ï¼ˆ30 åˆ†é˜ï¼‰
3. é›·å°„æ–½æ‰“ï¼ˆèœ‚å·¢æ¨¡å¼ï¼‰
4. å†·æ•· + ä¿®å¾©ç”¢å“

---

### C. Follow-up & Maintenance

* **7 å¤©ä¿®å¾©æœŸ**
* **4 é€±å¾Œä¸‹ä¸€æ¬¡**
* **å¹´åº¦ä¿é¤Šç™‚ç¨‹**

---

### D. Consumables

* ä¿®å¾©ç²¾è¯
* é˜²æ›¬ç”¢å“

---

## 4ï¸âƒ£ Treatment Dashboard â€“ App Design Proposal

---

### A. Treatment Dashboard (Doctor / Admin View)

**Key Widgets**

* ä»Šæ—¥æ²»ç™‚äººæ¬¡
* é€²è¡Œä¸­ç™‚ç¨‹æ•¸
* å›è¨ºæé†’ï¼ˆ7 / 30 / 90 å¤©ï¼‰
* è‚‰æ¯’ / éŸ³æ³¢ / é›·å°„ä½¿ç”¨é‡

---

### B. Treatment Record â€“ Core Data Fields

#### ğŸ”¹ Patient Table

| Field Name      | Description       |
| --------------- | ----------------- |
| patient_id      | Unique ID         |
| name            | Patient Name      |
| gender          | Gender            |
| dob             | Date of Birth     |
| skin_type       | Fitzpatrick       |
| medical_history | Contraindications |

---

#### ğŸ”¹ Treatment Session Table

| Field Name       | Description |
| ---------------- | ----------- |
| treatment_id     |             |
| patient_id       |             |
| treatment_type   |             |
| doctor_id        |             |
| session_no       |             |
| date             |             |
| dosage_u         |             |
| energy_lines     |             |
| device_used      |             |
| before_photo_url |             |
| after_photo_url  |             |
| notes            |             |

---

#### ğŸ”¹ Follow-up & Reminder Table

| Field Name          | Description |
| ------------------- | ----------- |
| reminder_id         |             |
| patient_id          |             |
| treatment_type      |             |
| last_treatment_date |             |
| next_recommend_date |             |
| auto_notify_flag    |             |

---

### C. Pricing & Fee Fields

| Field           | Example   |
| --------------- | --------- |
| list_price      | 23888     |
| promo_price     | 19999     |
| package_price   | 10000     |
| doctor_fee      | %         |
| consumable_cost |           |
| margin          | auto calc |

---

## 5ï¸âƒ£ Workflow Items for Clinic Staff

### Doctor

* Initial assessment
* Consent signing
* Treatment plan approval

### Nurse

* Pre-op prep
* Device operation
* Post-op care instructions

### Admin

* Pricing tier check
* Promo eligibility
* Inventory (Botox / Cartridges)

---

## 6ï¸âƒ£ Next Steps You May Want (I Can Help)

* ERD / Database schema
* API spec (treatment + follow-up)
* LINE notification logic
* KPI dashboard (repurchase rate, treatment cycle)
* AI recommendation (when to re-treat)

If you want, I can **turn this into a formal PRD section (v0.9.x)** or **map it directly to your existing clinic pricing-tier logic**.

---
# ERD / Database schema and API spec (treatment + follow-up)
Below is a **production-ready ERD / Database Schema + API Specification** tailored for a **medical beauty clinic app**, aligned with the treatment items and flows we just defined.
This is written so it can be **directly used by backend / frontend / PM** and plugged into your **v0.9.x PRD**.

---

# PART 1 â€” ERD / Database Schema

## 1ï¸âƒ£ High-Level ERD (Mermaid)

```mermaid
erDiagram
    PATIENT ||--o{ VISIT : has
    VISIT ||--o{ TREATMENT_SESSION : includes
    TREATMENT ||--o{ TREATMENT_SESSION : applied_in
    DOCTOR ||--o{ TREATMENT_SESSION : performs
    DEVICE ||--o{ TREATMENT_SESSION : uses
    DRUG ||--o{ TREATMENT_DRUG_USAGE : used_in
    TREATMENT_SESSION ||--o{ TREATMENT_DRUG_USAGE : records
    TREATMENT_SESSION ||--o{ FOLLOW_UP : generates
    PATIENT ||--o{ FOLLOW_UP : receives
    PATIENT ||--o{ MEDIA : owns
    TREATMENT_SESSION ||--o{ MEDIA : documents
```

---

## 2ï¸âƒ£ Core Tables (Detailed Schema)

---

### ğŸ§‘â€âš•ï¸ PATIENT

```sql
PATIENT
- patient_id (PK, UUID)
- full_name
- gender
- date_of_birth
- phone
- email
- skin_type              -- Fitzpatrick Iâ€“VI
- medical_history        -- text / JSON
- allergy_notes
- created_at
- updated_at
```

---

### ğŸ‘¨â€âš•ï¸ DOCTOR

```sql
DOCTOR
- doctor_id (PK)
- full_name
- license_no
- specialty
- status                 -- active / inactive
```

---

### ğŸ¥ VISIT (One clinic visit may contain multiple treatments)

```sql
VISIT
- visit_id (PK)
- patient_id (FK)
- visit_date
- visit_type             -- consultation / treatment
- notes
```

---

### ğŸ’‰ TREATMENT (Master Data)

```sql
TREATMENT
- treatment_id (PK)
- treatment_code         -- e.g. BOT_MASSETER
- treatment_name
- category               -- Injection / Device / Laser
- default_unit           -- U / lines / cc / session
- base_price
- description
- is_active
```

---

### âš™ï¸ DEVICE (Energy-based systems)

```sql
DEVICE
- device_id (PK)
- device_name
- device_type            -- HIFU / RF / Laser
- manufacturer
- model
- maintenance_cycle_days
```

---

### ğŸ§ª DRUG

```sql
DRUG
- drug_id (PK)
- drug_name
- drug_type              -- Botox / HA / PRP
- unit                   -- U / cc / vial
- supplier
- expiry_date
```

---

### ğŸ§¾ TREATMENT_SESSION (Core Clinical Record)

```sql
TREATMENT_SESSION
- session_id (PK)
- visit_id (FK)
- patient_id (FK)
- treatment_id (FK)
- doctor_id (FK)
- device_id (FK, nullable)
- session_no
- dosage_value           -- e.g. 40 (U), 1000 (lines)
- dosage_unit
- treatment_area         -- JSON (left/right/face)
- performed_at
- immediate_reaction     -- redness, swelling
- clinical_notes
```

---

### ğŸ’Š TREATMENT_DRUG_USAGE

```sql
TREATMENT_DRUG_USAGE
- usage_id (PK)
- session_id (FK)
- drug_id (FK)
- amount_used
- unit
```

---

### ğŸ“… FOLLOW_UP (Medical & Marketing Critical)

```sql
FOLLOW_UP
- followup_id (PK)
- patient_id (FK)
- session_id (FK)
- followup_type          -- medical / maintenance / reminder
- scheduled_date
- actual_date
- outcome_notes
- next_recommend_date
- notify_flag            -- boolean
```

---

### ğŸ–¼ MEDIA (Before / After / Consent)

```sql
MEDIA
- media_id (PK)
- patient_id (FK)
- session_id (FK)
- media_type             -- before / after / consent
- media_url
- captured_at
```

---

# PART 2 â€” API Specification (Treatment + Follow-up)

Designed as **REST APIs**, mobile + web friendly.

---

## 1ï¸âƒ£ Patient & Visit APIs

### â• Create Patient

`POST /api/patients`

```json
{
  "full_name": "Amy Chen",
  "gender": "female",
  "date_of_birth": "1992-06-01",
  "skin_type": "III",
  "medical_history": "No autoimmune disease"
}
```

---

### â• Create Visit

`POST /api/visits`

```json
{
  "patient_id": "uuid",
  "visit_type": "treatment",
  "visit_date": "2025-12-20"
}
```

---

## 2ï¸âƒ£ Treatment APIs

---

### ğŸ“‹ Get Available Treatments

`GET /api/treatments`

**Response**

```json
[
  {
    "treatment_id": "BOT_MASSETER",
    "treatment_name": "ç¾åœ‹è‚‰æ¯’ç˜¦å°è‡‰",
    "category": "Injection",
    "default_unit": "U",
    "base_price": 4999
  }
]
```

---

### ğŸ’‰ Create Treatment Session

`POST /api/treatment-sessions`

```json
{
  "visit_id": "uuid",
  "patient_id": "uuid",
  "treatment_id": "BOT_MASSETER",
  "doctor_id": "doc_01",
  "dosage_value": 40,
  "dosage_unit": "U",
  "treatment_area": {
    "left_masseter": 20,
    "right_masseter": 20
  },
  "clinical_notes": "Normal injection, no bleeding"
}
```

---

### ğŸ§ª Record Drug Usage

`POST /api/treatment-drug-usage`

```json
{
  "session_id": "session_uuid",
  "drug_id": "BOTOX_US",
  "amount_used": 40,
  "unit": "U"
}
```

---

## 3ï¸âƒ£ Follow-up & Maintenance APIs

---

### ğŸ“… Create Follow-up Plan (Auto-generated after treatment)

`POST /api/followups`

```json
{
  "patient_id": "uuid",
  "session_id": "session_uuid",
  "followup_type": "medical",
  "scheduled_date": "2026-01-05",
  "notify_flag": true
}
```

---

### ğŸ”” Get Upcoming Follow-ups (Dashboard)

`GET /api/followups?days=30`

```json
[
  {
    "patient_name": "Amy Chen",
    "treatment": "ç¾åœ‹è‚‰æ¯’ç˜¦å°è‡‰",
    "scheduled_date": "2026-01-05",
    "followup_type": "medical"
  }
]
```

---

### â™»ï¸ Create Maintenance Re-treatment Recommendation

`POST /api/followups/recommend`

```json
{
  "session_id": "session_uuid",
  "next_recommend_date": "2026-05-20",
  "followup_type": "maintenance",
  "notify_flag": true
}
```

---

## 4ï¸âƒ£ Dashboard-Oriented APIs (Very Important for Clinic Owners)

---

### ğŸ“Š Treatment Performance

`GET /api/dashboard/treatments`

**Response**

```json
{
  "treatment_name": "æµ·èŠ™éŸ³æ³¢",
  "monthly_sessions": 128,
  "repeat_rate": 0.62,
  "avg_revenue": 38000
}
```

---

### âš ï¸ Expiring Follow-ups (Lost Revenue Prevention)

`GET /api/dashboard/followup-risk`

```json
{
  "patient_id": "uuid",
  "last_treatment": "Botox",
  "days_since_last": 190,
  "status": "overdue"
}
```

---

# PART 3 â€” Why This Design Works for Medical Beauty Clinics

âœ” Supports **medical compliance** (doctor â†’ session â†’ drug traceability)
âœ” Enables **auto re-treatment reminders** (critical revenue driver)
âœ” Matches **device / injection hybrid clinics**
âœ” Ready for **LINE / WhatsApp / SMS notification integration**
âœ” Scales to **pricing tiers & license control** (from your earlier PRD)

---
